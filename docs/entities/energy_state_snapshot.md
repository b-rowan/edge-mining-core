# Energy State Snapshot

## Description

The `EnergyStateSnapshot` entity provides a comprehensive snapshot of the entire energy system's state at a single point in time. It aggregates data from energy source, storage system, grid connection, and consumption loads to create a complete picture of the current energy situation. This snapshot is crucial for making informed decisions about mining operations and energy optimization.

## Properties

| Property          | Description                                                                                                                                                              |
| :---------------- | :----------------------------------------------------------------------------------------------------------------------------------------------------------------------- |
| `production`      | The total amount of energy being produced by the source (e.g., solar panels, wind turbines), measured in Watts.                                                          |
| `consumption`     | The energy being consumed by the system's loads, excluding the miner, represented by a [`LoadState`](load_state.md) entity.                                              |
| `battery`         | The state of the battery system, if one is present. This is represented by a [`BatteryState`](battery_state.md) entity and can be `None`.                                |
| `grid`            | The state of the grid connection, if the system is connected to the electrical grid. This is represented by a [`GridState`](grid_state.md) sub-entity and can be `None`. |
| `external_source` | Power from any other external source, such as a backup generator, measured in Watts. This is optional and for future use.                                                |
| `timestamp`       | The date and time when the snapshot was taken, ensuring temporal consistency across all measurements.                                                                    |

## Relationships

- **Generated by `EnergyMonitor`**: The [`EnergyMonitor`](energy_monitor.md) is responsible for creating `EnergyStateSnapshot` instances by gathering data from various energy system components and sensors.
- **Used by [`DecisionalContext`](decisional_context.md)**: The `EnergyStateSnapshot` is a key component of the decision-making process, providing current system state to optimization policies.
